var jQ=jQuery.noConflict();!function(a){a.fn.optwidth=function(b){var c=a.extend({},a.fn.optwidth.defaults,b);return c.debug&&console.log("fso debug mode"),this.each(function(){var b=a(this);b.each(function(b){var d=parseInt(a(this).parent().css("padding-left")),e=parseInt(a(this).parent().css("padding-right")),f=parseInt(a(this).css("padding-left")),g=parseInt(a(this).css("padding-right"));if(pw=a(this).parent().innerWidth()-d-e-f-g,pdisp=a(this).parent().css("display"),pwidth=a(this).parent().css("width"),disp=a(this).css("display"),word_wrap=a(this).css("word-wrap"),word_break=a(this).css("word-break"),white_space=a(this).css("white-space"),hyphens=a(this).css("hyphens"),a(this).css("display","inline"),a(this).css("word-wrap","normal"),a(this).css("word-break","normal"),a(this).css("hyphens","none"),"line"==c.ub)a(this).css("white-space","nowrap"),c.debug&&console.log("line");else if("wordline"==c.ub){c.debug&&console.log("wordline");var h=a(this).text(),i=h.split(" "),j=0,k=new Array(i[0]),l=new Array(i[0]);for(t=0;t<i.length-1;t++)newstring=k[j]+" "+i[t+1],newstring.length<c.wl?(k[j]=k[j]+" "+i[t+1],l[j]=l[j]+"&nbsp;"+i[t+1]):(j++,k[j]=i[t+1],l[j]=i[t+1]);var m=l.join(" ");a(this).html(m)}else c.debug&&console.log("word");if(hb=a(this).outerWidth(),hb>pw&&(t=pw,a(this).children().css("font-size","inherit"),thiscontent=a(this).html(),a(this).html(a(this).text()),v=parseInt(a(this).css("font-size")),c.debug&&(console.log("got element font size "+v+'px'),console.log("got element width "+hb+"px for calculating"),console.log("got container width "+pw+"px for calculating")),calcsize=v*pw/hb,calcsize<c.ms&&(calcsize=c.ms),a(this).css("font-size",Math.round(calcsize,0)+"px"),c.debug&&console.log("calculated element font size "+Math.round(calcsize,0)+'px'),a(this).html(thiscontent),a(this).addClass(c.mc),c.sl&&a(this).css("line-height",calcsize+"px")),c.uo)for(var n=0,o=a(this).text(),p=o.split(" "),q=p.length,r=0;r<q;r++){if(ol=p[r].length,ol>n&&(n=ol),"word"==c.ub)for(var j=0,k=new Array(p[0]),s=new Array(p[0]),t=0;t<p.length-1;t++)newstring=k[j]+" "+p[t+1],newstring.length<n?(k[j]=k[j]+" "+p[t+1],s[j]=s[j]+"&nbsp;"+p[t+1]):(j++,k[j]=p[t+1],s[j]=p[t+1]);else"wordline"==c.ub&&(s=p);var u='<span class="oline">'+s.join('</span> <span class="oline">')+"</span>";a(this).html(u);var v=0;a(".oline").each(function(b){for(spw=Math.round(a(this).innerWidth(),0),v=parseInt(a(this).css("font-size"));spw<pw;)a(this).css("font-size",v+1+"px"),v=parseInt(a(this).css("font-size")),spw=Math.round(a(this).innerWidth(),0);a(this).addClass("ospan-"+b).css("display","block").css("width","100%").css("text-align","justify"),c.sl&&a(this).css("line-height",v+"px")}),a(".oline").removeClass("oline")}a(this).css("display",disp),a(this).css("word-wrap",word_wrap),a(this).css("word-break",word_break),a(this).css("white-space",white_space),a(this).css("hyphens",hyphens)})})},a.fn.optwidth.defaults={debug:!1,mc:"optwidth",ms:0,ub:"word",wl:70,uo:!1,sl:!1}}(jQuery);